[![English](https://img.shields.io/badge/Language-English-blue.svg)](README.md)

# آنالایزر احساسات نظرات محصولات فارسی

## 📌 معرفی
ابزاری برای تحلیل احساسات نظرات محصولات به زبان فارسی با دسته‌بندی:
- ✅ توصیه شده
- ❌ توصیه نشده
- 🤷 نظری ندارم

## ✨ قابلیت‌ها
- **پیش‌پردازش متن**  
  نرمال‌سازی، توکن‌سازی، ریشه‌یابی و حذف کلمات توقف فارسی
- **تعبیه‌های Word2Vec**  
  آموزش دیده بر روی ۱۵۰٬۰۰۰+ نظر فارسی
- **مدل رگرسیون لجستیک**  
  دقت **۷۵٪** روی داده‌های بزرگ
- **پیش‌بینی آسان**  
  تابع `predict_recommendation()` برای نظرات جدید

## 📂 داده‌ها
من مجموعه داده ای از 150000 نمونه را از [quera.org](https://quera.org) به دست آوردم. علاوه بر این، من مجموعه داده بزرگتری را از [Kaggle](https://www.kaggle.com/datasets/radeai/digikala-comments-and-products) به دست آوردم و آن را با داده های کوئرا ترکیب و به عنوان «big_train.csv» در مخزن قرار دادم.

###  بارگیری مجموعه داده

برای آموزش مدل با استفاده از مجموعه داده کوچکتر:
````` bash
train_data = pd.read_csv('train.csv')
`````

برای سیستم هایی با سخت افزار قدرتمند برای پردازش مجموعه داده بزرگتر:

````` bash
train_data = pd.read_csv('big_train.csv', usecols=['body', 'recommendation_status'])
`````

این مجموعه داده ترکیبی نمونه هایی را از منابع Quera و Kaggle ادغام می کند.
 > به دلیل حجیم بودن فایل big_train.csv آن را به 12 قسمت rar تبدیل کردم که برای دستیابی به فایل اصلی کافی است تنها یکی از قسمت ها را استخراج کنید

یک مجموعه نظرات در فایل comments.csv قرار داده شده که میتوان از آن برای ورودی مدل استفاده کرد

## دانلود دیتاست big_train از Hugging Face

برای دانلود دیتاست **big_train** از Hugging Face می‌توانید از ابزار **curl** یا **wget** استفاده کنید. این دیتاست شامل نظرات تجاری فارسی بوده و به‌صورت فایل **CSV** در دسترس است.

### **روش اول: استفاده از curl**
```bash
curl -L -o big_train.csv "https://huggingface.co/datasets/2077devwave/persian_commercial_comments_filing/resolve/main/train.csv"
```
این دستور فایل را با نام `train.csv` در مسیر فعلی ذخیره می‌کند.

### **روش دوم: استفاده از wget**
```bash
wget -O big_train.csv "https://huggingface.co/datasets/2077devwave/persian_commercial_comments_filing/resolve/main/train.csv"
```
اگر `wget` در سیستم شما نصب نیست، می‌توانید آن را با دستور زیر نصب کنید:
```bash
sudo apt install wget  # برای اوبونتو و دبیان
brew install wget  # برای macOS
```

### **روش سوم: دانلود با پایتون**
می‌توانید از کتابخانه `requests` در پایتون استفاده کنید:
```python
import requests

url = "https://huggingface.co/datasets/2077devwave/persian_commercial_comments_filing/resolve/main/train.csv"
response = requests.get(url)

with open("big_train.csv", "wb") as file:
    file.write(response.content)

print("دانلود کامل شد!")
```
با این روش‌ها می‌توانید دیتاست **big_train** را به‌راحتی دانلود و استفاده کنید.



## مشخصات سخت افزاری 

این پروژه بر روی سخت افزار با موارد زیر اجرا شد:

- 5 هسته vCPU
- 12 گیگابایت رم
- 15 گیگابایت گرافیک

  اگر در نصب کتابخانه یا الزامات سخت افزاری با مشکلاتی مواجه شدید، می توانید از [Google Collab](https://colab.research.google.com/github/2077DevWave/Sentiment-Survey-Analyzer/blob/main/NoteBooks/comment_analyzer.ipynb) به عنوان یک پلتفرم جایگزین استفاده کنید.

  ---
  ## 🛠️ نصب

1- کلون کردن ریپازیتوری:
``` bash
git clone https://github.com/RezaGooner/Sentiment-Survey-Analyzer.git
```
2- نصب نیازمندی ها و وابستگی ها:
``` bash
pip install -r requirements.txt
```

---
## 🚀 استفاده

``` bash
from model import predict_recommendation

result = predict_recommendation("این گوشی ارزش خرید دارد")
print(result)
```

---
## 📊 کارایی
| حجم مجموعه‌داده   | دقت     |
|-------------------|---------|
| ۱۵۰٬۰۰۰ (کوئرا)  | 70٪     |
| +۱٬۰۰۰٬۰۰۰ (ترکیبی) | 80٪     |

---

## تست‌های عملی روی داده‌های واقعی

جدول زیر شامل نمونه نظرات با امتیاز ستاره، پیشنهاد کاربر و پیش‌بینی مدل برای ارزیابی عملکرد می‌باشد:

| نظر | ستاره | پیشنهاد کاربر | پیش‌بینی مدل | TP | TN | FP | FN |
|-----|-------|--------------|------------|----|----|----|----|
| با توجه به قیمت بهترین انتخابه | ⭐⭐⭐ | ✅ | توصیه شده | 1 | 0 | 0 | 0 |
| کیفیت خوبی داره و برای پوست صورت گزینه مناسبی هست و از خریدم راضی هستم | ⭐⭐⭐⭐⭐ | ✅ | توصیه شده | 1 | 0 | 0 | 0 |
| عالیه.حیف که گرون شد | ⭐⭐⭐ | ➖ | توصیه شده | 0 | 0 | 1 | 0 |
|  دستمال خوب و به صرفه ای میباشد .اما کیفیت آن نسبت به جعبه ای یک مقدار خشک است ولی تو شرایط بازار الان به صرفه میباشد. یک مقدار خشک میباشد | ⭐⭐⭐ | ➖ | نظری ندارم | 0 | 0 | 0 | 0 |
| با جلد پاره ارسال شد! اونم وسیله بهداشتی | ⭐ | ❌ | توصیه نشده | 0 | 1 | 0 | 0 |
| قیمت رو دسمال ۱۴۰۰۰ تومن تولیدبرای هفته پیشه بعد ۱۷۰۰۰ میفروشن متاسفم | ⭐ | ❌ | توصیه نشده | 0 | 1 | 0 | 0 |
| بنده چند بار خرید کردم ولی این بار از بغل پاره شده بود و دستمال های داخل آن کثیف بود که برای یک کالای بهداشتی اصلا خوب نیست. فقط نمیدانم دیجی کالا اینو فرستاده یا وقتی ارسال شده پاره شده . ارزش مرجوع کردن هم نداشت و بعد از بیست روز به دستم رسید.. | ⭐⭐ | ➖ | توصیه نشده | 0 | 1 | 0 | 0 |
| کیفیت دستمال را کم کردن به همین علت تخفیف میدن اگر خرید قبلی دارید کیفیت جنس دستمال را مقایسه کنید متوجه میشید | ⭐ | ➖ | توصیه نشده | 0 | 1 | 0 | 0 |
| کاش قیمت پایین تر بود .ولی محصولات تنو از کیفیت خوبی برخوردار هستند | ⭐⭐⭐⭐ | ✅ | نظری ندارم | 0 | 0 | 0 | 1 |
| بالاتر از قیمت مصرف کننده بود و تولید برج 2 نخرید بیرون ارزون تره  | ⭐ | ❌ | توصیه نشده | 0 | 1 | 0 | 0 |

**معیارهای ارزیابی**:
- **دقت (Precision)**: 100% (2/2 پیش‌بینی مثبت صحیح)
- **حساسیت (Recall)**: 66.7% (2/3 موارد مثبت واقعی شناسایی شد)
- **اختصاصیت (Specificity)**: 100% (5/5 موارد منفی صحیح)
- **دقت نظرات خنثی**: 50% (1 مورد از 2 نظر خنثی صحیح)

**راهنما**:
- ✅ = کاربر توصیه کرده (y)
- ❌ = کاربر توصیه نکرده (n)
- ➖ = نظری نداده (-)
- TP = مثبت صحیح (توصیه شده واقعی)
- TN = منفی صحیح
- FP = مثبت کاذب
- FN = منفی کاذب

---
## 🤝 مشارکت
پیشنهادات و pull request ها پذیرفته می‌شوند. برای تغییرات اساسی لطفاً ابتدا یک [issue](https://github.com/RezaGooner/Sentiment-Survey-Analyzer/issues) ایجاد کنید.

---
> Github.com/RezaGooner
